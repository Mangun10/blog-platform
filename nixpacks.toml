# Simple Nixpacks configuration for Railway

[phases.setup]
nixPkgs = ["jdk17", "maven"]

[phases.build]
cmds = [
  "chmod +x ./mvnw",
  "./mvnw clean package -DskipTests -Dmaven.test.skip=true",
  "ls -la target/",
  "find target/ -name '*.jar' -type f"
]

[start]
cmd = "java -jar target/blog-platform-0.0.1-SNAPSHOT.jar"

[variables]
MAVEN_OPTS = "-Xmx1024m"